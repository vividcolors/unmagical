parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lnUc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapMeta=exports.copy=exports.move=exports.remove=exports.add=exports.replace=exports.length=exports.lookup=exports.sets=exports.setm=exports.gets=exports.getm=exports.goTo=exports.makePath=exports.basename=exports.path=exports.toJson=exports.fromJson=void 0;var t=r(require("ramda"));function e(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return e=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e();if(r&&r.has(t))return r.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=n?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=t[a]}return o.default=t,r&&r.set(t,o),o}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){a(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const s=t=>null===t?"null":Array.isArray(t)?"array":typeof t,c=(e,r,o)=>t.append(r,t.append(e,o)),p=e=>t.init(t.init(e)),u=(e,r)=>!e.length||t.hasPath(e,r),l=t=>t[t.length-2],i=t=>{if("number"==typeof t)return t;const e=+t;return e+""===t?e:t},f=t=>{let e="";for(let r=0;r<t.length;r++)"@value"==t[r]?e+="/":"number"==typeof t[r]||"-"==t[r]?e+="*":e+=t[r];return e},h=t=>{let e="";for(let r=0;r<t.length;r++)"@value"==t[r]?e+="/":e+=t[r];return e},d=(t,e,r,o)=>{const n=(t,r)=>{switch(s(t)){case"array":const a=[],c=r+"/*";for(let e=0;e<t.length;e++)a[e]=n(t[e],c);const p=o(a,r);return p.key=e++,p;case"object":const u={};for(let e in t)u[e]=n(t[e],r+"/"+e);const l=o(u,r);return l.key=e++,l;default:const i=o(t,r);return i.key=e++,i}};return[n(t,r),e]},y=t=>{const e=t["@value"];switch(s(e)){case"array":const t=[];for(let o=0;o<e.length;o++)t[o]=y(e[o]);return t;case"object":const r={};for(let o in e)r[o]=y(e[o]);return r;default:return e}},w=(t,e)=>{const[r,o]=d(t,1,"",e);return{data:r,path:[],serial:o}};exports.fromJson=w;const v=t=>y(t.data);exports.toJson=v;const g=t=>h(t.path);exports.path=g;const m=e=>{if(!t.length(e.path))throw new Error("basename/1: on root location");return t.last(e.path)};exports.basename=m;const x=(e,r)=>{if("0"===r)return e;let o=t.split("/",r),n=[];if(r.length>0&&"/"!=r[0]){const r=+o[0];n=e;for(let e=0;e<r;e++){if(!t.length(n))throw new Error("compose/1: no parent location");n=p(n)}}o=t.tail(o);for(let t=0;t<o.length;t++)n=c("@value",i(o[t]),n);return n},b=(t,e)=>{const r=x(e.path,t);return h(r)};exports.makePath=b;const O=(t,e)=>{const r=x(e.path,t);if(!u(r,e.data))throw new Error("goTo/1: not found: "+t);return n(n({},e),{},{path:r})};exports.goTo=O;const k=(e,r,o,n)=>{const a=x(n.path,e),s=t.path(a,n.data);if(!s)throw new Error("getm/1: not found: "+e);return s.hasOwnProperty(r)?s[r]:o};exports.getm=k;const P=(e,r)=>{const o=x(r.path,e),n=t.path(o,r.data);if(!n)throw new Error("gets/1: not found: "+e);return n};exports.gets=P;const j=(e,r,o,a)=>{const s=x(a.path,e),c=t.path(s,a.data);if(!c)throw new Error("setm/1: not found: "+e);const p=n(n({},c),{},{[r]:o}),u=t.assocPath(s,p,a.data);return n(n({},a),{},{data:u})};exports.setm=j;const E=(e,r,o)=>{const a=x(o.path,e),s=t.path(a,o.data);if(!s)throw new Error("sets/1: not found: "+e);r.key=s.key;const c=t.assocPath(a,r,o.data);return n(n({},o),{},{data:c})};exports.sets=E;const A=(e,r)=>{const o=x(r.path,e),n=t.path(o,r.data);if(!n)throw new Error("lookup/1: not found: "+e);return y(n)};exports.lookup=A;const M=(e,r)=>{const o=x(r.path,e),n=t.path(o,r.data);if(!n)throw new Error("length/1: not found: "+e);if(!Array.isArray(n["@value"]))throw new Error("length/2: not a list: "+e);return n["@value"].length};exports.length=M;const D=(t,e,r)=>{throw new Error("implement!")};exports.replace=D;const J=(e,r,o,a)=>{const s=x(a.path,e),c=p(s),u=t.last(s),l=t.path(c,a.data);if("object"!=typeof l["@value"])throw new Error("add/1 neither a record nor a list: "+e);if(Array.isArray(l["@value"])){const p="-"===u?l["@value"].length:u;if("number"!=typeof p||p%1!=0)throw new Error("add/2 invalid index: "+e);if(p<0||p>l["@value"].length)throw new Error("add/3 out of range: "+e);const[i,h]=d(r,a.serial,f(s),o),y=o(t.insert(p,i,l["@value"]),f(c));y.key=l.key;const w=t.assocPath(c,y,a.data);return n(n({},a),{},{data:w,serial:h})}{if("string"!=typeof u)throw new Error("add/4 invalid name: "+e);const[p,i]=d(r,a.serial,f(s),o),h=o(n(n({},l["@value"]),{},{[u]:p}),f(c));h.key=l.key;const y=t.assocPath(c,h,a.data);return n(n({},a),{},{data:y})}};exports.add=J;const _=(e,r,o)=>{const a=x(o.path,e),s=p(a),c=t.last(a),u=t.path(s,o.data);if("object"!=typeof u["@value"]||null===u["@value"])throw new Error("remove/1 neither a record nor a list: "+e);if(Array.isArray(u["@value"])){if("number"!=typeof c||c%1!=0)throw new Error("remove/2 invalid index: "+e);if(c<0||c>=u["@value"].length)throw new Error("remove/3 out of range: "+e);const a=r(t.remove(c,1,u["@value"]),f(s));a.key=u.key;const p=t.assocPath(s,a,o.data);return n(n({},o),{},{data:p})}{if(!u["@value"].hasOwnProperty(c))throw new Error("remove/4: property not found: "+e);const a=r(t.dissoc(c,u["@value"]),f(s));a.key=u.key;const p=t.assocPath(s,a,o.data);return n(n({},o),{},{data:p})}};exports.remove=_;const T=(t,e,r)=>{throw new Error("impelement!")};exports.move=T;const S=(t,e,r)=>{throw new Error("impelement!")};exports.copy=S;const W=(e,r,o)=>{const a=(t,r)=>{const o=t["@value"];switch(s(o)){case"array":const c=[];for(let t=0;t<o.length;t++)c[0]=a(o[t],r+"/*");return n(n({},e(t,r)),{},{"@value":c,key:t.key});case"object":const p={};for(let t in o)p[t]=a(o[t],r+"/"+t);return n(n({},e(t,r)),{},{"@value":p,key:t.key});default:return n(n({},e(t,r)),{},{"@value":o,key:t.key})}},c=x(o.path,r),p=t.path(c,o.data);if(!p)throw new Error("mapMeta/1: not found: "+r);const u=a(p,h(c)),l=t.assocPath(c,u,o.data);return n(n({},o),{},{data:l})};exports.mapMeta=W;
},{}],"WCXc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=void 0;var e=r(require("../src/env"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o();if(r&&r.has(e))return r.get(e);var u={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=t?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(u,i,n):u[i]=e[i]}return u.default=e,r&&r.set(e,u),u}const u=(e,o)=>({"@value":e}),t=(o,r)=>{let t=e.fromJson({name:"Bob",age:24,buddies:["Mam","Dad"]},u);o(1,()=>e.lookup("/name",t),"Bob"),t=e.add("/email","info@example.com",u,t),o(2,()=>e.lookup("/email",t),"info@example.com"),r(2.1,()=>e.lookup("/foo",t),"lookup/"),o(3,()=>e.lookup("/buddies/1",t),"Dad"),t=e.add("/buddies/1","Pochi",u,t),o(4,()=>e.lookup("/buddies/1",t),"Pochi"),r(4.1,()=>e.lookup("/buddies/5",t),"lookup/"),t=e.goTo("/buddies",t),o(5,()=>e.lookup("0/1",t),"Pochi"),r(5.1,()=>e.lookup("0/5",t),"lookup/"),t=e.goTo("",t),t=e.add("/buddies/-","Komino",u,t),o(5,()=>e.lookup("/buddies/3",t),"Komino"),t=e.remove("/buddies/3",u,t),r(6,()=>e.lookup("/buddies/3",t),"lookup/"),t=e.remove("/email",u,t),r(7,()=>e.lookup("/email",t),"lookup/"),r(7.1,()=>e.remove("/email",u,t),"remove/"),t=e.setm("/name","invalid",!0,t),o(8,()=>e.getm("/name","invalid",!1,t),!0)};exports.run=t;
},{"../src/env":"lnUc"}],"l6QX":[function(require,module,exports) {
"use strict";var e=t(require("./env"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function t(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=n?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=e[l]}return o.default=e,t&&t.set(e,o),o}const o=(e,r,t)=>{const o=r();o==t?console.log("- ASSERT",e,"OK"):console.log("! ASSERT",e,"NG",o,t)},n=(e,r,t)=>{let o=null;try{r();o="no error"}catch(n){if(n instanceof Error&&n.message.startsWith(t))return void console.log("- ASSERT",e,"OK");o="matching failure: "+n.message}console.log("! ASSERT",e,"NG",o)},l=(e,r)=>{console.log("TEST START: "+r),e.run(o,n),console.log("TEST DONE: "+r),console.log("")};l(e,"env");
},{"./env":"WCXc"}]},{},["l6QX"], null)
//# sourceMappingURL=/_index.js.map