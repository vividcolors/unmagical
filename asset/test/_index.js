parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"O3AG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.emptyArray=exports.emptyObject=exports.typeOf=exports.pathToArray=exports.normalizePathArray=exports.normalizePath=exports.isIntStr=void 0;const t=t=>{const r=+t;return r%1==0&&t===""+r};exports.isIntStr=t;const r=r=>{const e=r.split("/");for(let o=1;o<e.length;o++)t(e[o])&&(e[o]="*");return e.join("/")};exports.normalizePath=r;const e=r=>{let e="";for(let o=0;o<r.length;o++)"number"==typeof r[o]||t(r[o])?e+="/*":e+="/"+r[o];return e};exports.normalizePathArray=e;const o=r=>{const e=r.split("/"),o=[];for(let s=1;s<e.length;s++)o.push(t(e[s])?+e[s]:e[s]);return o};exports.pathToArray=o;const s=t=>null===t?"null":Array.isArray(t)?"array":typeof t;exports.typeOf=s;const p={};exports.emptyObject=p;const n=[];exports.emptyArray=n;
},{}],"lnUc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reduceDeep=exports.mapDeep=exports.copy=exports.move=exports.replace=exports.remove=exports.add=exports.setSlot=exports.getSlot=exports.extract=exports.test=exports.makeEnv=void 0;var e=require("./utils"),r=require("ramda");function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function o(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(r){a(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const n=(e,t)=>!e.length||(0,r.hasPath)(e,t),s=e=>(0,r.init)((0,r.init)(e)),c=(r,t,o,a)=>{const n=(r,t)=>{switch((0,e.typeOf)(r)){case"array":const s=[],c=t+"/*";for(let e=0;e<r.length;e++)s[e]=n(r[e],c);return a(s,o[t]);case"object":const i={};for(let e in r)i[e]=n(r[e],t+"/"+e);return a(i,o[t]);default:return a(r,o[t])}};return n(r,t)},i=r=>{const t=r["@value"];switch((0,e.typeOf)(t)){case"array":const r=[];for(let e=0;e<t.length;e++)r[e]=i(t[e]);return r;case"object":const o={};for(let e in t)o[e]=i(t[e]);return o;default:return t}},l=(e,r,t)=>{return{tree:c(e,"",r,t),schemaDb:r,validate:t}};exports.makeEnv=l;const u=r=>{const t=r.split("/"),o=[];for(let a=1;a<t.length;a++)o.push("@value"),o.push((0,e.isIntStr)(t[a])?+t[a]:t[a]);return o},p=(e,r)=>n(u(e),r.tree);exports.test=p;const h=(e,t)=>{const o=u(e),a=(0,r.path)(o,t.tree);if(!a)throw new Error("extract/1: not found: "+e);return i(a)};exports.extract=h;const f=(e,t)=>{const o=u(e),a=(0,r.path)(o,t.tree);if(!a)throw new Error("getSlot/1: not found: "+e);return a};exports.getSlot=f;const v=(e,t,a)=>{const n=u(e);(0,r.path)(n,a.tree);if(!t)throw new Error("setSlot/1: not found: "+e);const s=(0,r.assocPath)(n,t,a.tree);return o(o({},a),{},{tree:s})};exports.setSlot=v;const d=(t,a,n)=>{const i=u(t),l=s(i),p=(0,r.last)(i),h=(0,r.path)(l,n.tree),f=(0,e.typeOf)(h["@value"]);if("object"!=f&&"array"!=f)throw new Error("add/1 neither an object nor an array: "+t);if("array"==f){const s="-"===p?h["@value"].length:p;if("number"!=typeof s||s%1!=0)throw new Error("add/2 invalid index: "+t);if(s<0||s>h["@value"].length)throw new Error("add/3 index out of range: "+t);const i=c(a,(0,e.normalizePath)(t),n.schemaDb,n.validate),u=(0,r.insert)(s,i,h["@value"]),f=n.validate(u,n.schemaDb[(0,e.normalizePathArray)(l)]),v=(0,r.assocPath)(l,f,n.tree);return o(o({},n),{},{tree:v})}{if("string"!=typeof p)throw new Error("add/4 invalid name: "+t);const s=c(a,(0,e.normalizePath)(t),n.schemaDb,n.validate),i=o(o({},h["@value"]),{},{[p]:s}),u=n.validate(i,n.schemaDb[(0,e.normalizePathArray)(l)]),f=(0,r.assocPath)(l,u,n.tree);return o(o({},n),{},{tree:f})}};exports.add=d;const y=(t,a)=>{const n=u(t),c=s(n),i=(0,r.last)(n),l=(0,r.path)(c,a.tree),p=(0,e.typeOf)(l["@value"]);if("object"!=p&&"array"!=p)throw new Error("remove/1 neither an object nor an array: "+t);if("array"==p){if("number"!=typeof i||i%1!=0)throw new Error("remove/2 invalid index: "+t);if(i<0||i>=l["@value"].length)throw new Error("remove/3 out of range: "+t);const n=(0,r.remove)(i,1,l["@value"]),s=a.validate(n,a.schemaDb[(0,e.normalizePathArray)(c)]),u=(0,r.assocPath)(c,s,a.tree);return o(o({},a),{},{tree:u})}{if(!l["@value"].hasOwnProperty(i))throw new Error("remove/4: property not found: "+t);const n=(0,r.dissoc)(i,l["@value"]),s=a.validate(n,a.schemaDb[(0,e.normalizePathArray)(c)]),u=(0,r.assocPath)(c,s,a.tree);return o(o({},a),{},{tree:u})}};exports.remove=y;const w=(t,a,n)=>{const i=u(t),l=s(i),p=(0,r.last)(i),h=(0,r.path)(l,n.tree),f=(0,e.typeOf)(h["@value"]);if("object"!=f&&"array"!=f)throw new Error("replace/1 neither an object nor an array: "+t);if("array"==f){if("number"!=typeof p||p%1!=0)throw new Error("replace/2 invalid index: "+t);if(p<0||p>=h["@value"].length)throw new Error("replace/3 out of range: "+t);const s=c(a,(0,e.normalizePath)(t),n.schemaDb,n.validate),i=(0,r.update)(p,s,h["@value"]),u=n.validate(i,n.schemaDb[(0,e.normalizePathArray)(l)]),f=(0,r.assocPath)(l,u,n.tree);return o(o({},n),{},{tree:f})}{if("string"!=typeof p)throw new Error("replace/4 invalid name: "+t);const s=c(a,(0,e.normalizePath)(t),n.schemaDb,n.validate),i=o(o({},h["@value"]),{},{[p]:s}),u=n.validate(i,n.schemaDb[(0,e.normalizePathArray)(l)]),f=(0,r.assocPath)(l,u,n.tree);return o(o({},n),{},{tree:f})}};exports.replace=w;const m=(e,r,t)=>{const o=h(e,t);return t=y(e,t),t=d(r,o,t)};exports.move=m;const b=(e,r,t)=>{const o=h(e,t);return t=d(r,o,t)};exports.copy=b;const x=(t,a,n)=>{const s=(r,a)=>{const n=r["@value"];switch((0,e.typeOf)(n)){case"array":const c=[];for(let e=0;e<n.length;e++)c[e]=s(n[e],a+"/"+e);return o(o({},t(r,a)),{},{"@value":c});case"object":const i={};for(let e in n)i[e]=s(n[e],a+"/"+e);return o(o({},t(r,a)),{},{"@value":i});default:return o(o({},t(r,a)),{},{"@value":n})}},c=u(a),i=(0,r.path)(c,n.tree);if(!i)throw new Error("mapDeep/1: not found: "+a);const l=s(i,a),p=(0,r.assocPath)(c,l,n.tree);return o(o({},n),{},{tree:p})};exports.mapDeep=x;const P=(t,o,a,n)=>{const s=(r,o,a)=>{const n=o["@value"];switch((0,e.typeOf)(n)){case"array":for(let e=0;e<n.length;e++)r=s(r,n[e],a+"/"+e);return t(r,o,a);case"object":for(let e in n)r=s(r,n[e],a+"/"+e);return t(r,o,a);default:return t(r,o,a)}},c=u(a),i=(0,r.path)(c,n.tree);if(!i)throw new Error("reduceDeep/1: not found: "+a);return s(o,i,a)};exports.reduceDeep=P;
},{"./utils":"O3AG"}],"WCXc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=void 0;var e=r(require("../src/env"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var d=o?Object.getOwnPropertyDescriptor(e,i):null;d&&(d.get||d.set)?Object.defineProperty(a,i,d):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=(e,t)=>({"@value":e}),n=(t,r)=>{let a=e.makeEnv({name:"Bob",age:24,buddies:["Mam","Dad"]},{},d);t(1,()=>e.extract("/name",a),"Bob"),t(1.1,()=>e.test("/name",a),!0),t(1.2,()=>e.test("/foo",a),!1),a=e.add("/email","info@example.com",a),t(2,()=>e.extract("/email",a),"info@example.com"),r(2.1,()=>e.extract("/foo",a),"extract/"),t(3,()=>e.extract("/buddies/1",a),"Dad"),a=e.add("/buddies/1","Pochi",a),t(4,()=>e.extract("/buddies/1",a),"Pochi"),r(4.1,()=>e.extract("/buddies/5",a),"extract/"),a=e.add("/buddies/-","Komino",a),t(5,()=>e.extract("/buddies/3",a),"Komino"),a=e.remove("/buddies/3",a),t(6,()=>e.extract("/buddies",a).join(","),"Mam,Pochi,Dad"),r(6.1,()=>e.extract("/buddies/3",a),"extract/"),a=e.remove("/email",a),r(7,()=>e.extract("/email",a),"extract/"),r(7.1,()=>e.remove("/email",a),"remove/"),t(8,()=>{let t=e.getSlot("/name",a);return t=o(o({},t),{},{invalid:!0}),a=e.setSlot("/name",t,a),(t=e.getSlot("/name",a)).invalid},!0),a=e.replace("/age",30,a),t(9,()=>e.extract("/age",a),30),a=e.add("/id","TS1101",a),a=e.move("/id","/employeeId",a),t(10,()=>e.extract("/employeeId",a),"TS1101"),r(10.1,()=>e.extract("/id",a),"extract/"),a=e.copy("/employeeId","/id",a),t(11,()=>e.extract("/employeeId",a),"TS1101"),t(11.1,()=>e.extract("/id",a),"TS1101"),t(11.9,()=>e.extract("/buddies",a).join(","),"Mam,Pochi,Dad"),a=e.move("/buddies/2","/buddies/0",a),t(12,()=>e.extract("/buddies",a).join(","),"Dad,Mam,Pochi"),a=e.copy("/buddies/0","/buddies/2",a),t(13,()=>e.extract("/buddies",a),"Dad,Mam,Dad,Pochi"),a=e.mapDeep((e,t)=>o(o({},e),{},{message:"yeah"}),"/buddies",a),t(14,()=>e.getSlot("/buddies",a).message,"yeah"),t(14.1,()=>e.getSlot("/buddies/0",a).message,"yeah"),t(14.2,()=>e.getSlot("/name",a).message||"",""),t(15,()=>e.reduceDeep((e,t,r)=>"/buddies"==r?e:e+`[${t["@value"]}]`,"","/buddies",a),"[Dad][Mam][Dad][Pochi]")};exports.run=n;
},{"../src/env":"lnUc"}],"v6Cq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.coerce=exports.validate=exports.defaultRules=exports.buildDb=exports.defaultMessages=void 0;var e=require("./utils");function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(r){n(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const a=e=>{if(!e)return!0;const r=e.charAt(e.length-1);return"null"==e||"?"==r},s={"schema.ruleError.enum":"Invalid input","schema.ruleError.const":"Invalid input","schema.ruleError.required":"Missing properties","schema.ruleError.requiredAnyOf":"Unknown instance","schema.ruleError.multipleOf":"Please enter a multiple of {{0}}","schema.ruleError.maximum":"Please enter {{0}} or less","schema.ruleError.exclusiveMaximum":"Please enter a number less than {{0}}","schema.ruleError.minimum":"Please enter {{0}} or more","schema.ruleError.exclusiveMinimum":"Please enter a number more than {{0}}","schema.ruleError.maxLength":"Please enter no more than {{0}} characters","schema.ruleError.minLength0":"Please enter","schema.ruleError.minLength":"Please enter at least {{0}} characters","schema.ruleError.pattern":"Invalid format","schema.ruleError.maxItems":"Please make it less than or equal to {{0}}","schema.ruleError.minItems":"Please make it more than or equal to {{0}}","schema.typeError":"Invalid type","schema.scanError.null":"Invalid input","schema.scanError.empty":"Please select","schema.scanError.number":"Please enter a number","schema.scanError.integer":"Please enter an integer","schema.scanError.boolean":"Please enter a boolean value"};exports.defaultMessages=s;const o=e=>{const r={},t=(e,n)=>{switch(r[n]=e,e.type){case"object":case"object?":for(let r in e.properties)t(e.properties[r],n+"/"+r);break;case"array":case"array?":t(e.items,n+"/*")}};return t(e,""),r};exports.buildDb=o;const u=(e,r,t=null)=>{return(e[r]||r+": {{0}}").replace("{{0}}",""+t)},i=(e,r,n,a,s)=>{for(let o in n){const i=a[o];if(!i)continue;const l=i(n[o],e);if(!0!==l){const a=u(s,l,n[o]);return t(t({},r),{},{"@value":e,invalid:!0,message:a})}}return t(t({},r),{},{"@value":e,invalid:!1,message:""})},l=(e,r)=>{if(!r)return!0;if(null===e)return a(r);switch(r){case"null":return!1;case"number":case"number?":return"number"==typeof e;case"integer":case"integer?":return"number"==typeof e&&e%1==0;case"boolean":case"boolean?":return"boolean"==typeof e;case"string":return!0;case"object":case"object?":return"object"==typeof e&&null!==e;case"array":case"array?":return Array.isArray(e);default:throw new Error("unknown type: "+r)}},c={enum:(e,r)=>{if(!Array.isArray(e))throw new Error("invalid parameter");for(let t=0;t<e.length;t++)if(e[t]===r)return!0;return"schema.ruleError.enum"},const:(e,r)=>e===r||"schema.ruleError.const",required:(e,r)=>{if(!Array.isArray(e))throw new Error("invalid parameter");if("object"!=typeof r)return!0;for(let t=0;t<e.length;t++)if(!r.hasOwnProperty(e[t]))return"schema.ruleError.required";return!0},requiredAnyOf:(e,r)=>{if(!Array.isArray(e))throw new Error("invalid parameter");if("object"!=typeof r)return!0;const t=e=>r.hasOwnProperty(e);for(let n of e)if(n.every(t))return!0;return"schema.ruleError.requiredAnyOf"},multipleOf:(e,r)=>{if("number"!=typeof e)throw new Error("invalid parameter");return"number"!=typeof r||(r%e==0||"schema.ruleError.multipleOf")},maximum:(e,r)=>"number"!=typeof r||(e>=r||"schema.ruleError.maximum"),exclusiveMaximum:(e,r)=>"number"!=typeof r||(e>r||"schema.ruleError.exclusiveMaximum"),minimum:(e,r)=>"number"!=typeof r||(e<=r||"schema.ruleError.minimum"),exclusiveMinimum:(e,r)=>"number"!=typeof r||(e<r||"schema.ruleError.exclusiveMinimum"),maxLength:(e,r)=>"string"!=typeof r||(r.length<=e||"schema.ruleError.maxLength"),minLength:(e,r)=>"string"!=typeof r||(r.length>=e||(1==e?"schema.ruleError.minLength0":"schema.ruleError.minLength")),pattern:(e,r)=>{if("string"!=typeof e)throw new Error("invalid parameter");return"string"!=typeof r||(!!new RegExp(e).test(r)||"schema.ruleError.pattern")},maxItems:(e,r)=>{if("number"!=typeof e)throw new Error("invalid parameter");return!Array.isArray(r)||(r.length<=e||"schema.ruleError.maxItems")},minItems:(e,r)=>{if("number"!=typeof e)throw new Error("invalid parameter");return!Array.isArray(r)||(r.length>=e||"schema.ruleError.minItems")}};exports.defaultRules=c;const m=(r,t)=>(n,a)=>{const s=a?l(n,a.type)?i(n,e.emptyObject,a,r,t):{"@value":n,invalid:!0,touched:null!==n&&""!==n,message:u(t,"schema.typeError",null)}:{"@value":n,invalid:!1,touched:null!==n&&""!==n,message:""};if(!s.hasOwnProperty("input"))switch((0,e.typeOf)(n)){case"null":s.input="";break;case"number":s.input=""+n;break;case"string":s.input=n;break;case"boolean":s.input=n?"true":"false";break;default:s.input=""}return s};exports.validate=m;const p=(e,r)=>(n,s)=>{if(!s)throw new Error("coerce/0: no schema");if(!s.type)throw new Error("coerce/1: type not specified");if(-1==["null","boolean","boolean?","integer","integer?","number","number?","string"].indexOf(s.type))throw new Error("coerce/2: unknown type: "+s.type);if(""==n.input)return a(s.type)?i(null,n,s,e,r):"string"==s.type?i("",n,s,e,r):t(t({},n),{},{invalid:!0,message:u(r,"schema.scanError.empty",null)});switch(s.type){case"null":return t(t({},n),{},{invalid:!0,message:u(r,"schema.scanError.null",null)});case"number":case"number?":const a=+n.input;return""+a!==n.input?t(t({},n),{},{invalid:!0,message:u(r,"schema.scanError.number",null)}):i(a,n,s,e,r);case"integer":case"integer?":const o=+n.input;return""+o!==n.input||o%1!=0?t(t({},n),{},{invalid:!0,message:u(r,"schema.scanError.integer",null)}):i(o,n,s,e,r);case"string":return i(n.input,n,s,e,r);case"boolean":case"boolean?":const l="true"===n.input||"false"!==n.input&&null;return null===l?t(t({},n),{},{invalid:!0,message:u(r,"schema.scanError.boolean",null)}):i(l,n,s,e,r);default:throw new Error("unknown type: "+s.type)}};exports.coerce=p;
},{"./utils":"O3AG"}],"zpTb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=void 0;var i=e(require("../src/schema"));function n(){if("function"!=typeof WeakMap)return null;var i=new WeakMap;return n=function(){return i},i}function e(i){if(i&&i.__esModule)return i;if(null===i||"object"!=typeof i&&"function"!=typeof i)return{default:i};var e=n();if(e&&e.has(i))return e.get(i);var l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var r=a?Object.getOwnPropertyDescriptor(i,t):null;r&&(r.get||r.set)?Object.defineProperty(l,t,r):l[t]=i[t]}return l.default=i,e&&e.set(i,l),l}function l(i,n){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),e.push.apply(e,l)}return e}function a(i){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?l(Object(e),!0).forEach(function(n){t(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function t(i,n,e){return n in i?Object.defineProperty(i,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[n]=e,i}const r=(n,e)=>{const l=i.validate(i.defaultRules,{}),t=i.coerce(i.defaultRules,{});let r={type:"null"};n(1,()=>l(null,r).invalid,!1),n(1.1,()=>l(1,r).invalid,!0),n(1.2,()=>l("abc",r).invalid,!0),n(1.3,()=>t({input:""},r).invalid,!1),n(1.4,()=>t({input:"abc"},r).invalid,!0),n(1.5,()=>t({input:""},r)["@value"],null),r=null,n(2,()=>l(null,r).invalid,!1),n(2.1,()=>l(10,r).invalid,!1),n(2.2,()=>l([],r).invalid,!1),e(2.3,()=>t({input:""},r),"coerce/"),e(2.4,()=>t({input:"aaa"},r),"coerce/"),r={type:"boolean"},n(3,()=>l(null,r).invalid,!0),n(3.1,()=>l(1,r).invalid,!0),n(3.2,()=>l(!0,r).invalid,!1),n(3.3,()=>t({input:""},r).invalid,!0),n(3.4,()=>t({input:"false"},r).invalid,!1),n(3.5,()=>t({input:"abc"},r).invalid,!0),n(3.6,()=>t({input:"true"},r)["@value"],!0),r={type:"boolean?"},n(4,()=>l(null,r).invalid,!1),n(4.1,()=>l(1,r).invalid,!0),n(4.2,()=>l(!0,r).invalid,!1),n(4.3,()=>t({input:""},r).invalid,!1),n(4.4,()=>t({input:"false"},r).invalid,!1),n(4.5,()=>t({input:"abc"},r).invalid,!0),n(4.6,()=>t({input:"true"},r)["@value"],!0),n(4.7,()=>t({input:""},r)["@value"],null),r={type:"integer"},n(5,()=>l(null,r).invalid,!0),n(5.1,()=>l(1,r).invalid,!1),n(5.2,()=>l(!0,r).invalid,!0),n(5.3,()=>t({input:""},r).invalid,!0),n(5.4,()=>t({input:"10"},r).invalid,!1),n(5.5,()=>t({input:"abc"},r).invalid,!0),n(5.6,()=>t({input:"132"},r)["@value"],132),r={type:"integer?"},n(6,()=>l(null,r).invalid,!1),n(6.1,()=>l(1,r).invalid,!1),n(6.2,()=>l(!0,r).invalid,!0),n(6.3,()=>t({input:""},r).invalid,!1),n(6.4,()=>t({input:"10"},r).invalid,!1),n(6.5,()=>t({input:"abc"},r).invalid,!0),n(6.6,()=>t({input:"132"},r)["@value"],132),n(6.7,()=>t({input:""},r)["@value"],null),r={type:"number"},n(7,()=>l(null,r).invalid,!0),n(7.1,()=>l(1.2,r).invalid,!1),n(7.2,()=>l(!0,r).invalid,!0),n(7.3,()=>t({input:""},r).invalid,!0),n(7.4,()=>t({input:"10.3"},r).invalid,!1),n(7.5,()=>t({input:"abc"},r).invalid,!0),n(7.6,()=>t({input:"132.5"},r)["@value"],132.5),r={type:"number?"},n(8,()=>l(null,r).invalid,!1),n(8.1,()=>l(1.2,r).invalid,!1),n(8.2,()=>l(!0,r).invalid,!0),n(8.3,()=>t({input:""},r).invalid,!1),n(8.4,()=>t({input:"10.3"},r).invalid,!1),n(8.5,()=>t({input:"abc"},r).invalid,!0),n(8.6,()=>t({input:"132.5"},r)["@value"],132.5),n(8.7,()=>t({input:""},r)["@value"],null),r={type:"string"},n(9,()=>l(null,r).invalid,!0),n(9.1,()=>l("",r).invalid,!1),n(9.2,()=>l(!0,r).invalid,!1),n(9.3,()=>t({input:""},r).invalid,!1),n(9.4,()=>t({input:"10"},r).invalid,!1),n(9.5,()=>t({input:""},r)["@value"],""),n(9.6,()=>t({input:"abc"},r)["@value"],"abc"),r={type:"object"},n(10,()=>l(null,r).invalid,!0),n(10.1,()=>l("",r).invalid,!0),n(10.2,()=>l({},r).invalid,!1),e(10.3,()=>t({input:""},r),"coerce/"),r={type:"object?"},n(11,()=>l(null,r).invalid,!1),n(11.1,()=>l("",r).invalid,!0),n(11.2,()=>l({},r).invalid,!1),e(11.3,()=>t({input:""},r),"coerce/"),r={type:"array"},n(12,()=>l(null,r).invalid,!0),n(12.1,()=>l("",r).invalid,!0),n(12.2,()=>l([],r).invalid,!1),e(12.3,()=>t({input:""},r),"coerce/"),r={type:"array?"},n(13,()=>l(null,r).invalid,!1),n(13.1,()=>l("",r).invalid,!0),n(13.2,()=>l([],r).invalid,!1),e(13.3,()=>t({input:""},r),"coerce/"),r={type:"integer?",enum:[1]},n(14,()=>l(null,r).invalid,!0),n(14.1,()=>l(1,r).invalid,!1),n(14.2,()=>l(3,r).invalid,!0),r={type:"number",const:3.2},n(15,()=>l(3.2,r).invalid,!1),n(15.1,()=>l(3,r).invalid,!0),r={type:"object",required:["foo","bar"]},n(16,()=>l({foo:1,bar:1},r).invalid,!1),n(16.1,()=>l({foo:1},r).invalid,!0),n(16.2,()=>l({foo:1,bar:1,baz:1},r).invalid,!1),n(16.3,()=>l(1,a(a({},r),{},{type:"integer"})).invalid,!1),r={type:"object",requiredAnyOf:[["tag","op","lhs","rhs"],["tag","f","arg"],["tag","val","line"],["tag","var"]]};let v={tag:"infix",op:"*",lhs:{tag:"var",var:"n"},rhs:{tag:"app",f:"fact",arg:{tag:"infix",op:"-",lhs:{tag:"var",var:"n"},rhs:{tag:"lit",val:1}}}};n(17,()=>l(v,r).invalid,!1),n(17.1,()=>l(v.lhs,r).invalid,!1),n(17.2,()=>l(v.rhs.arg.rhs,r).invalid,!0),n(17.3,()=>l(1,a(a({},r),{},{type:"integer"})).invalid,!1),r={type:"number?",multipleOf:1.2},n(18,()=>l(-2.4,r).invalid,!1),n(18.1,()=>l(1.5,r).invalid,!0),n(18.2,()=>l(null,r).invalid,!1),n(18.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"integer?",maximum:10},n(19,()=>l(10,r).invalid,!1),n(19.1,()=>l(11,r).invalid,!0),n(19.2,()=>l(null,r).invalid,!1),n(19.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"integer?",exclusiveMaximum:10},n(20,()=>l(9,r).invalid,!1),n(20.1,()=>l(10,r).invalid,!0),n(20.2,()=>l(null,r).invalid,!1),n(20.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"integer?",minimum:10},n(21,()=>l(10,r).invalid,!1),n(21.1,()=>l(9,r).invalid,!0),n(21.2,()=>l(null,r).invalid,!1),n(21.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"integer?",exclusiveMinimum:10},n(20,()=>l(10,r).invalid,!0),n(20.1,()=>l(11,r).invalid,!1),n(20.2,()=>l(null,r).invalid,!1),n(20.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"string",maxLength:3},n(21,()=>l("abc",r).invalid,!1),n(21.1,()=>l("abcd",r).invalid,!0),n(21.2,()=>l("",r).invalid,!1),n(21.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"string",minLength:3},n(21,()=>l("abd",r).invalid,!1),n(21.1,()=>l("ab",r).invalid,!0),n(21.2,()=>l("",r).invalid,!0),n(21.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"string",pattern:"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$"},n(22,()=>l("info@example.com",r).invalid,!1),n(22.1,()=>l("192.168.0.1",r).invalid,!0),n(22.2,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"array?",maxItems:3},n(23,()=>l([1,2,3],r).invalid,!1),n(23.1,()=>l([1,2,3,4],r).invalid,!0),n(23.2,()=>l(null,r).invalid,!1),n(23.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1),r={type:"array?",minItems:4},n(24,()=>l([1,2,3],r).invalid,!0),n(24.1,()=>l([1,2,3,4],r).invalid,!1),n(24.2,()=>l(null,r).invalid,!1),n(24.3,()=>l(!0,a(a({},r),{},{type:"boolean"})).invalid,!1)};exports.run=r;
},{"../src/schema":"v6Cq"}],"l6QX":[function(require,module,exports) {
"use strict";var e=o(require("./env")),r=o(require("./schema"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l=n?Object.getOwnPropertyDescriptor(e,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=e[c]}return o.default=e,r&&r.set(e,o),o}const n=(e,r,t)=>{const o=r();o==t?console.log("- ASSERTION",e,"OK"):console.log("! ASSERTION",e,"NG",o,t)},c=(e,r,t)=>{let o=null;try{r();o="no error"}catch(n){if(n instanceof Error&&n.message.startsWith(t))return void console.log("- ASSERTION",e,"OK");o="matching failure: "+n.message}console.log("! ASSERTION",e,"NG",o)},l=(e,r)=>{console.log("TEST START: "+r),e.run(n,c),console.log("TEST DONE: "+r),console.log("")};l(e,"env"),l(r,"schema");
},{"./env":"WCXc","./schema":"zpTb"}]},{},["l6QX"], null)
//# sourceMappingURL=/_index.js.map