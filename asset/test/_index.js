parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lnUc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.copy=exports.move=exports.remove=exports.add=exports.replace=exports.length=exports.lookup=exports.sets=exports.setm=exports.gets=exports.getm=exports.goTo=exports.makePath=exports.basename=exports.path=exports.toJson=exports.fromJson=void 0;var t=e(require("ramda"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function e(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=n?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=t[a]}return o.default=t,e&&e.set(t,o),o}function o(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,o)}return e}function n(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?o(Object(e),!0).forEach(function(r){a(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function a(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}const s=(r,e,o)=>t.append(e,t.append(r,o)),p=r=>t.init(t.init(r)),l=(r,e)=>!r.length||t.hasPath(r,e),c=t=>t[t.length-2],u=t=>{if("number"==typeof t)return t;const r=+t;return r+""===t?r:t},i=t=>{let r="";for(let e=0;e<t.length;e++)"@value"==t[e]?r+="/":"number"==typeof t[e]||"-"==t[e]?r+="*":r+=t[e];return r},f=(t,r,e)=>{switch(null===t?"null":Array.isArray(t)?"array":typeof t){case"array":const o=[],n=r+"/*";for(let r=0;r<t.length;r++)o[r]=f(t[r],n,e);return e(o,r);case"object":const a={};for(let s in t)a[s]=f(t[s],r+"/"+s,e);return e(a,r);default:return e(t,r)}},h=t=>{const r=t["@value"];switch(null===r?"null":Array.isArray(r)?"array":typeof r){case"array":const t=[];for(let o=0;o<r.length;o++)t[o]=h(r[o]);return t;case"object":const e={};for(let o in r)e[o]=h(r[o]);return e;default:return r}},d=(t,r)=>({data:f(t,"",r),path:[]});exports.fromJson=d;const w=t=>h(t.data);exports.toJson=w;const y=t=>{let r="";for(let e=0;e<t.path.length;e++)"@value"==t.path[e]?r+="/":r+=t.path[e];return r};exports.path=y;const v=r=>{if(!t.length(r.path))throw new Error("basename/1: on root location");return t.last(r.path)};exports.basename=v;const g=(r,e)=>{if("0"===e)return r;let o=t.split("/",e),n=[];if(e.length>0&&"/"!=e[0]){const e=+o[0];n=r;for(let r=0;r<e;r++){if(!t.length(n))throw new Error("compose/1: no parent location");n=p(n)}}o=t.tail(o);for(let t=0;t<o.length;t++)n=s("@value",u(o[t]),n);return n},m=(t,r)=>{const e=g(r.path,t);let o="";for(let n=0;n<e.length;n++)"@value"==e[n]?o+="/":o+=e[n];return o};exports.makePath=m;const x=(t,r)=>{const e=g(r.path,t);if(!l(e,r.data))throw new Error("goTo/1: not found: "+t);return n(n({},r),{},{path:e})};exports.goTo=x;const b=(r,e,o,n)=>{const a=g(n.path,r),s=t.path(a,n.data);if(!s)throw new Error("getm/1: not found: "+r);return s.hasOwnProperty(e)?s[e]:o};exports.getm=b;const O=(r,e)=>{const o=g(e.path,r),n=t.path(o,e.data);if(!n)throw new Error("gets/1: not found: "+r);return n};exports.gets=O;const P=(r,e,o,a)=>{const s=g(a.path,r),p=t.path(s,a.data);if(!p)throw new Error("setm/1: not found: "+r);const l=n(n({},p),{},{[e]:o}),c=t.assocPath(s,l,a.data);return n(n({},a),{},{data:c})};exports.setm=P;const j=(r,e,o)=>{const a=g(o.path,r);if(!l(a,o.data))throw new Error("sets/1: not found: "+r);const s=t.assocPath(a,e,o.data);return n(n({},o),{},{data:s})};exports.sets=j;const E=(r,e)=>{const o=g(e.path,r),n=t.path(o,e.data);if(!n)throw new Error("lookup/1: not found: "+r);return h(n)};exports.lookup=E;const A=(r,e)=>{const o=g(e.path,r),n=t.path(o,e.data);if(!n)throw new Error("length/1: not found: "+r);if(!Array.isArray(n["@value"]))throw new Error("length/2: not a list: "+r);return n["@value"].length};exports.length=A;const k=(t,r,e)=>{throw new Error("implement!")};exports.replace=k;const D=(r,e,o,a)=>{const s=g(a.path,r),l=p(s),c=t.last(s),u=t.path(l,a.data);if("object"!=typeof u["@value"])throw new Error("add/1 neither a record nor a list: "+r);if(Array.isArray(u["@value"])){const p="-"===c?u["@value"].length:c;if("number"!=typeof p||p%1!=0)throw new Error("add/2 invalid index: "+r);if(p<0||p>u["@value"].length)throw new Error("add/3 out of range: "+r);const h=o(t.insert(p,f(e,i(s),o),u["@value"]),i(l)),d=t.assocPath(l,h,a.data);return n(n({},a),{},{data:d})}{if("string"!=typeof c)throw new Error("add/4 invalid name: "+r);const p=f(e,i(s),o),h=o(n(n({},u["@value"]),{},{[c]:p}),i(l)),d=t.assocPath(l,h,a.data);return n(n({},a),{},{data:d})}};exports.add=D;const J=(r,e,o)=>{const a=g(o.path,r),s=p(a),l=t.last(a),c=t.path(s,o.data);if("object"!=typeof c["@value"]||null===c["@value"])throw new Error("remove/1 neither a record nor a list: "+r);if(Array.isArray(c["@value"])){if("number"!=typeof l||l%1!=0)throw new Error("remove/2 invalid index: "+r);if(l<0||l>=c["@value"].length)throw new Error("remove/3 out of range: "+r);const a=e(t.remove(l,1,c["@value"]),i(s)),p=t.assocPath(s,a,o.data);return n(n({},o),{},{data:p})}{if(!c["@value"].hasOwnProperty(l))throw new Error("remove/4: property not found: "+r);const a=e(t.dissoc(l,c["@value"]),i(s)),p=t.assocPath(s,a,o.data);return n(n({},o),{},{data:p})}};exports.remove=J;const M=(t,r,e)=>{throw new Error("impelement!")};exports.move=M;const _=(t,r,e)=>{throw new Error("impelement!")};exports.copy=_;
},{}],"WCXc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=void 0;var e=r(require("../src/env"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o();if(r&&r.has(e))return r.get(e);var u={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=t?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(u,i,n):u[i]=e[i]}return u.default=e,r&&r.set(e,u),u}const u=(e,o)=>({"@value":e}),t=(o,r)=>{let t=e.fromJson({name:"Bob",age:24,buddies:["Mam","Dad"]},u);o(1,()=>e.lookup("/name",t),"Bob"),t=e.add("/email","info@example.com",u,t),o(2,()=>e.lookup("/email",t),"info@example.com"),r(2.1,()=>e.lookup("/foo",t),"lookup/"),o(3,()=>e.lookup("/buddies/1",t),"Dad"),t=e.add("/buddies/1","Pochi",u,t),o(4,()=>e.lookup("/buddies/1",t),"Pochi"),r(4.1,()=>e.lookup("/buddies/5",t),"lookup/"),t=e.goTo("/buddies",t),o(5,()=>e.lookup("0/1",t),"Pochi"),r(5.1,()=>e.lookup("0/5",t),"lookup/"),t=e.goTo("",t),t=e.add("/buddies/-","Komino",u,t),o(5,()=>e.lookup("/buddies/3",t),"Komino"),t=e.remove("/buddies/3",u,t),r(6,()=>e.lookup("/buddies/3",t),"lookup/"),t=e.remove("/email",u,t),r(7,()=>e.lookup("/email",t),"lookup/"),r(7.1,()=>e.remove("/email",u,t),"remove/"),t=e.setm("/name","invalid",!0,t),o(8,()=>e.getm("/name","invalid",!1,t),!0)};exports.run=t;
},{"../src/env":"lnUc"}],"l6QX":[function(require,module,exports) {
"use strict";var e=t(require("./env"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function t(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=n?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=e[l]}return o.default=e,t&&t.set(e,o),o}const o=(e,r,t)=>{const o=r();o==t?console.log("- ASSERT",e,"OK"):console.log("! ASSERT",e,"NG",o,t)},n=(e,r,t)=>{let o=null;try{r();o="no error"}catch(n){if(n instanceof Error&&n.message.startsWith(t))return void console.log("- ASSERT",e,"OK");o="matching failure: "+n.message}console.log("! ASSERT",e,"NG",o)},l=(e,r)=>{console.log("TEST START: "+r),e.run(o,n),console.log("TEST DONE: "+r),console.log("")};l(e,"env");
},{"./env":"WCXc"}]},{},["l6QX"], null)
//# sourceMappingURL=/_index.js.map